# Hypervisors

# Темы, затронутые в лекции 4: 

1. [`Общие сведения`](https://github.com/Shin0kari/System-administration/blob/main/lections/Lec4.%20Hypervisors.md#%D0%BE%D0%B1%D1%89%D0%B8%D0%B5-%D1%81%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F)

1. [`HyperV`](https://github.com/Shin0kari/System-administration/blob/main/lections/Lec4.%20Hypervisors.md#hyperv)

1. [`KVM`](https://github.com/Shin0kari/System-administration/blob/main/lections/Lec4.%20Hypervisors.md#kvm)

1. [`Системы управления ВМ`](https://github.com/Shin0kari/System-administration/blob/main/lections/Lec4.%20Hypervisors.md#%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B-%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B2%D0%BC)

***

## Общие сведения.
###### [`Вернутся вверх`](https://github.com/Shin0kari/System-administration/blob/main/lections/Lec4.%20Hypervisors.md#%D1%82%D0%B5%D0%BC%D1%8B-%D0%B7%D0%B0%D1%82%D1%80%D0%BE%D0%BD%D1%83%D1%82%D1%8B%D0%B5-%D0%B2-%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8-4)

Виртуальные машины (ВМ) представляют из себя изолированные окружения, 
в которых можно запускать различные операционные системы на одном физическом сервере. 
Это позволяет делить ресурсы сервера для нескольких служб, 
а так же упрощает резервное копирование и обслуживание аппаратного обеспечения. 
Для распределения ресурсов между ВМ и управления ими используется **гипервизор**. 

**Гипервизор** представляет из себя специализированную ОС, из которой убраны все роли, 
кроме необходимых для поддежки работы ВМ.

4 наиболее часто используемых гипервизора - VmWare, Microsoft HyperV, Xen и KVM.

Далее расмотрим часть из них.

## HyperV.
###### [`Вернутся вверх`](https://github.com/Shin0kari/System-administration/blob/main/lections/Lec4.%20Hypervisors.md#%D1%82%D0%B5%D0%BC%D1%8B-%D0%B7%D0%B0%D1%82%D1%80%D0%BE%D0%BD%D1%83%D1%82%D1%8B%D0%B5-%D0%B2-%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8-4)

HyperV устанавливается как роль в Windows Server или через добавление компонентов Windows в настольных редакциях.

Для полноценной работы ВМ необходимо создать виртуальный сетевой коммутатор, без этого они не будут иметь выхода в сеть.

Создание виртуальной машины заключается в выборе доступных её ресурсов, 
создании виртуального жёсткого диска и подключении ISO образа для установки ОС.

В случае с Hyper-V могут быть доступны два поколения виртуальных машин - первое и второе. 

У второго переработаны синтетические устройства и скорость работы таких ВМ выше. 
Но они требуею других драйверов и не совместимы с некоторыми гостевыми ОС в отличии от первой.

## KVM.
###### [`Вернутся вверх`](https://github.com/Shin0kari/System-administration/blob/main/lections/Lec4.%20Hypervisors.md#%D1%82%D0%B5%D0%BC%D1%8B-%D0%B7%D0%B0%D1%82%D1%80%D0%BE%D0%BD%D1%83%D1%82%D1%8B%D0%B5-%D0%B2-%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8-4)

Для установки KVM в debian stretch понадобится несколько пакетов: 
`qemu-kvm` `libvirt-clients` `libvirt-daemon` `virt-manager`.

`virt-manager` используется как графиеский интерфейс для управления (не является необходимым).

Может потребоваться создание виртуального сетевого коммутатора (мост bridge в терминологии Linux) для полноценного выхода в сеть. 
Для работы простейшей работы создаётся мост, позволяющий выйти в сеть использую IP адрес гипервизора и технологию NAT.

## Системы управления ВМ.
###### [`Вернутся вверх`](https://github.com/Shin0kari/System-administration/blob/main/lections/Lec4.%20Hypervisors.md#%D1%82%D0%B5%D0%BC%D1%8B-%D0%B7%D0%B0%D1%82%D1%80%D0%BE%D0%BD%D1%83%D1%82%D1%8B%D0%B5-%D0%B2-%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8-4)

Кроме гипервизора для работы с большим количеством ВМ требуется специальное ПО.

Это ПО позволяет переносить ВМ между аппаратными серверами, создавать мгновенные снимки и ВМ из шаблонов. 

По факту при использовании виртуализации наибольшую ценность как раз представляют эти программные продукты. 
Если все гипервизоры доступны бесплатно (некоторые с ограничениями), то ПО для управления ВМ в большинстве случаев стоит денег.

Примером такого ПО является VmWare Sphere, MS SystemCenter, Proxmox, oVirt.

###### [`Вернутся вверх`](https://github.com/Shin0kari/System-administration/blob/main/lections/Lec4.%20Hypervisors.md#%D1%82%D0%B5%D0%BC%D1%8B-%D0%B7%D0%B0%D1%82%D1%80%D0%BE%D0%BD%D1%83%D1%82%D1%8B%D0%B5-%D0%B2-%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8-4)
