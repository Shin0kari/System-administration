# Работа с Zabbix

# Темы, затронутые в лекции 11: 

1. [`Общие сведения`](https://github.com/Shin0kari/System-administration/blob/main/lections/Lec_11.%20Working%20with%20Zabbix.md#%D0%BE%D0%B1%D1%89%D0%B8%D0%B5-%D1%81%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F)

1. [`Установка и настройка`](https://github.com/Shin0kari/System-administration/edit/main/lections/Lec_11.%20Working%20with%20Zabbix.md#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B8-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0)

***

## Общие сведения.
###### [`Вернутся вверх`](https://github.com/Shin0kari/System-administration/blob/main/lections/Lec_11.%20Working%20with%20Zabbix.md#%D1%82%D0%B5%D0%BC%D1%8B-%D0%B7%D0%B0%D1%82%D1%80%D0%BE%D0%BD%D1%83%D1%82%D1%8B%D0%B5-%D0%B2-%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8-11)

Существует много систем для мониторинга оборудования, операционных систем и информационных систем в целом.

В качестве примера рассмотрим систему мониторинга Zabbix.

Для работы системы необходим сервер, занимающийся сбором данных и обработкой событий, сервер с СУБД, где эти данные будут храниться.

Поддерживаются следующие механизмы сбора данных - специальный агент (существуют версии для Linux и Windows), протокол SNMP, протокол JMX (требует дополнительной службы) или по протоколу IPMI.

Для работы с серверами чаще всего используются специальные агенты, потому что они предоставляют самый богатый функционал. 

SNMP является стандартным для управления и сбора информации с устройств, подключенных к сети. В основном он используется для наблюдения за сетевым оборудованием, сетевыми принтерами и источниками бесперебойного питания. 

JMX это протоколом для сбора информации о java машине и требует специальной настройки как со стороны сервера контейнеров java, так и со стороны дополнительной службы в zabbix. 

IPMI - интерфейс для управления и мониторинга серверным оборудование. Он позволяет общаться с дополнительным блоком осуществляющим удалённую настройку, мониторинг и управление сервером.

Основываясь на собранных данных с наблюдаемых узлов zabbix может рассылать сообщения о недоступности оборудования или сервисов, повышенной загрузке или проблемах в работе. Рассылка оповещений производится с помощью электронной почты, мгновенных сообщений по протоколу xmpp или sms.

При необходимости можно расширить способы оповещения с помощью своих модулей или скриптов, запускаемых по событию.

Полученные данные можно использовать для оценки бесперебойности работы системы, поиска узких мест и оптимизации, быстрого реагирования на проишествия.

## Установка и настройка.
###### [`Вернутся вверх`](https://github.com/Shin0kari/System-administration/blob/main/lections/Lec_11.%20Working%20with%20Zabbix.md#%D1%82%D0%B5%D0%BC%D1%8B-%D0%B7%D0%B0%D1%82%D1%80%D0%BE%D0%BD%D1%83%D1%82%D1%8B%D0%B5-%D0%B2-%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8-11)

Для работы системы обычно используется:

* сервер, занимающийся сбором данных, их обработкой и генерацией событий.
* СУБД для хранения данных (может располагаться на том же физическом оборудовании, что и сервер).
* агенты для сбора данных с серверов и рабочих станций.

Сбор данных с помощью протокола SNMP осуществляется сервером напрямую, без агентов.

Сервер доступен только для ОС Linux, агенты доступны для Linux, Windows и Unix. Установка сервера производится с помощью пакетов для поддерживаемых дистрибутивов.

Агенты в Linux ставятся аналогично, в Windows  требуются дополнительные действия для установки агента как службы, которые расписаны в документации.

Для работы достаточно любой версии агента, но при использовании более старых версий по сравнению с сервером часть возможностей по сбору данных может быть недоступна.

После установки в сервере необходимо настроить СУБД для хранения данных и пользователей, которые будут иметь доступ к веб-интерфейсу. У агентов необходимо настроить имя и адрес сервера.

Для того, чтобы данные с агентов собирались на сервере необходимо создать узлы сети с именем, совпадающим с указанным в конфигурации агентов и указать, какие данные будут собираться. Это производится либо с помощью создания элементов данных, либо с помощью назначения узлу одного из шаблонов.

Кроме элементов данных можно созадвать их графическое представление - графики. Для большей наглядности графики и данные текстового мониторинга можно объединять в комплексные экраны.

###### [`Вернутся вверх`](https://github.com/Shin0kari/System-administration/blob/main/lections/Lec_11.%20Working%20with%20Zabbix.md#%D1%82%D0%B5%D0%BC%D1%8B-%D0%B7%D0%B0%D1%82%D1%80%D0%BE%D0%BD%D1%83%D1%82%D1%8B%D0%B5-%D0%B2-%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8-11)
